<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        #stopwatch {
            font-size: 24px;
            margin: 20px;
        }
    </style>
    <title>Stopwatch</title>
</head>

<body>

    <div id="stopwatch">00:00:00.00</div>
    <button id="startBtn">시작</button>
    <button id="stopBtn">정지</button>
    <button id="resetBtn">리셋</button>


    <script>
        let stopwatch = {
            startTime: null,
            isRunning: false,

            start() {
                if (!this.isRunning) {
                    this.startTime = new Date();
                    this.isRunning = true;
                    this.update();
                }
            },

            stop() {
                if (this.isRunning) {
                    this.isRunning = false;
                    this.update();
                }
            },

            resume() {
                if (!this.isRunning) {
                    let elapsed = new Date() - this.startTime;
                    this.startTime = new Date(new Date() - elapsed);
                    this.isRunning = true;
                    this.update();
                }
            },

            reset() {
                if (!this.isRunning) {
                    let display = document.getElementById('stopwatch');
                    display.innerText = "00:00:00.00";
                    this.startTime = null;
                    this.isRunning = false;
                    this.update();
                }
            },

            restart() {
                this.stop();
                this.reset();
                this.start();
            },

            update() {
                let display = document.getElementById('stopwatch');
                let startButton = document.getElementById('startBtn');
                let stopButton = document.getElementById('stopBtn');
                let resetButton = document.getElementById('resetBtn');
                let restartButton = document.getElementById('restartBtn');

                if (this.isRunning) {
                    startButton.disabled = true;
                    stopButton.disabled = false;
                    resetButton.disabled = true; // 중지 중에는 리셋 비활성화
                    restartButton.disabled = true; // 중지 중에는 재 시작 비활성화
                    this.timer = setInterval(() => {
                        let now = new Date();
                        let elapsed = now - this.startTime;
                        display.textContent = this.formatTime(elapsed);
                    }, 15);  // 15 밀리초마다 업데이트
                } else {
                    startButton.disabled = false;
                    stopButton.disabled = true;
                    resetButton.disabled = false;
                    restartButton.disabled = false;
                    clearInterval(this.timer);
                }
            },

            formatTime(ms) {
                let totalMilliseconds = Math.floor(ms);
                let totalSeconds = Math.floor(totalMilliseconds / 1000);
                let hours = Math.floor(totalSeconds / 3600);
                let minutes = Math.floor((totalSeconds % 3600) / 60);
                let seconds = totalSeconds % 60;
                let milliseconds = totalMilliseconds % 100;

                return (
                    String(hours).padStart(2, '0') + ':' +
                    String(minutes).padStart(2, '0') + ':' +
                    String(seconds).padStart(2, '0') + '.' +
                    String(milliseconds).padStart(2, '0')
                );
            }
        };

        document.getElementById('startBtn').addEventListener('click', function () {
            stopwatch.start();
        });

        document.getElementById('stopBtn').addEventListener('click', function () {
            stopwatch.stop();
        });

        document.getElementById('resetBtn').addEventListener('click', function () {
            stopwatch.reset();
        });

        document.getElementById('restartBtn').addEventListener('click', function () {
            stopwatch.restart();
        });
    </script>

</body>

</html>